<div class="container">

  <div id="header">
<<<<<<< HEAD

=======
>>>>>>> 927f459a086855f1692623bcddae48da400b5cf8
    <mat-form-field style="display: none;">
      <ngx-mat-file-input #input (change)="onFileChange($event)" [accept]="'.png, .jpg, .jpeg'" required>
      </ngx-mat-file-input>
    </mat-form-field>
<<<<<<< HEAD

    <img class="image-avatar" *ngIf="avatarSrc!==null; else default_image" (click)="input.onContainerClick($event)"
         src="{{avatarSrc}}"/>

    <ng-template #default_image>
      <img class="image-avatar" (click)="input.onContainerClick($event)" src="./assets/image/user.png"/>
    </ng-template>
    <mat-icon id="camera-icon" (click)="input.onContainerClick($event)">camera_alt</mat-icon>

=======
    <img id="image-avatar" *ngIf="avatarSrc!==null; else default_image" (click)="input.onContainerClick($event)"
      src="{{avatarSrc}}" />
    <ng-template #default_image>
      <img id="image-avatar" (click)="input.onContainerClick($event)" src="./assets/image/user.png" />
    </ng-template>
    <mat-icon id="camera-icon" (click)="input.onContainerClick($event)">camera_alt</mat-icon>
>>>>>>> 927f459a086855f1692623bcddae48da400b5cf8
  </div>

  <div class="mt-2">
    <mat-tab-group>
      <!-- # Start Tag : Thông tin cá nhân-->
      <mat-tab label="Thông tin cá nhân">

        <div class="container">
          <!-- ## Start Table : Thông tin cá nhân -->
          <mat-card class="mt-2" *ngIf="!editable">
            <table class="table table-borderless">
              <tr>
                <th>Họ và tên</th>
                <td>
                  {{currentUser.userName}}
                </td>
              </tr>
              <tr>
                <th>Giới tính</th>
                <td>
                  {{currentUser.gender}}
                </td>
              </tr>
              <tr>
                <th>Ngày sinh</th>
                <td>
                  {{currentUser.birthday}}
                </td>
              </tr>
              <tr>
                <th>Số điện thoại</th>
                <td>
                  {{currentUser.phone}}
                  <span *ngIf="currentUser.phone.length === 0">
                    <a routerLink="/add-phone">Thêm Số điện thoai</a>
                  </span>
                  <span *ngIf="currentUser.phone.length > 0">
                    <a routerLink="/update-phone">Thay đổi Số điện thoại</a>
                  </span>
                </td>
              </tr>
              <tr>
                <th>Email</th>
                <td>
                  {{currentUser.email}}
                  <span *ngIf="currentUser.email.length === 0">
                    <a routerLink="/add-email">Thêm Email</a>
                  </span>
                  <span *ngIf="currentUser.email.length > 0">
                    <a routerLink="/add-email">Thay đổi Email</a>
                  </span>
                </td>
              </tr>
            </table>
            <mat-card-actions>
              <button mat-card-content class="btn btn-outline-primary" (click)="editable = !editable">Chỉnh sửa</button>
            </mat-card-actions>
            <!-- ## End Table : Thông tin cá nhân -->
          </mat-card>

          <!-- ## Start Form : Thông tin cá nhân -->
          <mat-card *ngIf="editable" class="mt-2">
            <mat-card-content>
              <form [formGroup]="informationUser">
                <table class="table table-borderless">
                  <tr>
                    <th>Họ và tên</th>
                    <td>
                      <mat-form-field appearance="outline" fxFill>
                        <mat-label>Họ và tên</mat-label>
                        <input matInput formControlName="userName" name="userName">
                        <mat-icon matSuffix>account_circle</mat-icon>
                        <mat-error *ngIf="hasError('userName', 'required', informationUser)">Chưa nhập Họ và tên
                        </mat-error>
                      </mat-form-field>
                    </td>
                  </tr>
                  <tr>
                    <th>Giới tính</th>
                    <td>
                      <mat-form-field appearance="outline" fxFill>
                        <mat-select formControlName="gender">
                          <mat-option value="Nam">Nam</mat-option>
                          <mat-option value="Nữ">Nữ</mat-option>
                          <mat-option value="Khác">Khác</mat-option>
                        </mat-select>
                        <mat-error *ngIf="hasError('gender', 'required', informationUser)">Chưa nhập Họ và tên
                        </mat-error>
                      </mat-form-field>
                    </td>
                  </tr>
                  <tr>
                    <th>Ngày sinh</th>
                    <td>
                      <mat-form-field appearance="outline" fxFill>
                        <mat-label>Ngày sinh</mat-label>
                        <input matInput type="date" formControlName="birthday">
                        <mat-error *ngIf="hasError('birthday', 'required', informationUser)">Chưa nhập Họ và tên
                        </mat-error>
                      </mat-form-field>
                    </td>
                  </tr>
<<<<<<< HEAD
=======
                  <!--                  <tr>
                    <th>Số điện thoại</th>
                    <td>
                      <mat-form-field appearance="outline" fxFill>
                        <mat-label>Số điện thoại</mat-label>
                        <input matInput formControlName="phone" [readonly]="currentUser.phone.trim().length > 0" uniquePhone>
                        <mat-icon matSuffix>phone_android</mat-icon>
                      </mat-form-field>

                      <div *ngIf="phone.invalid && (phone.dirty || phone.touched)">
                        <div class="alert alert-danger" *ngIf="hasError('phone', 'uniquePhone', informationUser)">
                          Số {{ phone.value }} không khả dụng
                        </div>
                      </div>
                    </td>
                  </tr>-->
                  <!--                  <tr>
                    <th>Email</th>
                    <td>
                      <mat-form-field appearance="outline" fxFill>
                        <mat-label>Email</mat-label>
                        <input matInput formControlName="email" [readonly]="currentUser.email.trim().length > 0">
                        <mat-icon matSuffix>mail</mat-icon>
                      </mat-form-field>
                      <div *ngIf="email.invalid && (email.dirty || email.touched)">
                        <div class="alert alert-danger" *ngIf="hasError('email', 'uniqueEmail', informationUser)">
                          Email {{ email.value }} không khả dụng
                        </div>
                      </div>
                    </td>
                  </tr>-->
>>>>>>> 927f459a086855f1692623bcddae48da400b5cf8
                </table>
              </form>
            </mat-card-content>
            <mat-card-actions>
              <button mat-raised-button class="btn btn-outline-primary" (click)="updateInformation()">Cập nhật</button>
              <button mat-raised-button class="btn btn-outline-danger" (click)="editable = !editable">Huỷ</button>

            </mat-card-actions>

          </mat-card>
          <!-- ## End Form : Thông tin cá nhân -->


        </div>
      </mat-tab>
      <!-- # End Tag : Thông tin cá nhân-->

      <!-- # Start Tag : Đổi mật khẩu -->
      <mat-tab label="Đổi mật khẩu">
        <div class="row mt-2" fxFill>
          <div class="col-lg-2 col-md-1"></div>
          <div class="col-lg-8 col-md-10">
            <mat-card>
              <form [formGroup]="changePassword">
                <table class="table table-borderless">
                  <tr>
                    <th>Mật khẩu hiện tại</th>
                    <td>
                      <mat-form-field appearance="outline" fxFill>
                        <mat-label>Mật khẩu hiện tại</mat-label>
                        <input matInput [type]="hideCurrentPassword ? 'password' : 'text'"
<<<<<<< HEAD
                               formControlName="currentPassword" type="password">
                        <button mat-icon-button matSuffix (click)="hideCurrentPassword = !hideCurrentPassword"
                                [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideCurrentPassword">
=======
                          formControlName="currentPassword" type="password">
                        <button mat-icon-button matSuffix (click)="hideCurrentPassword = !hideCurrentPassword"
                          [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideCurrentPassword">
>>>>>>> 927f459a086855f1692623bcddae48da400b5cf8
                          <mat-icon>{{hideCurrentPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                        </button>

                        <mat-error *ngIf="hasError('currentPassword', 'required', changePassword)">Chưa nhập mật khẩu
                          hiện tại
                        </mat-error>

                      </mat-form-field>
                    </td>
                  </tr>
                  <tr>
                    <th>Mật khẩu mới</th>
                    <td>
                      <mat-form-field appearance="outline" fxFill>
                        <mat-label>Mật khẩu hiện mới</mat-label>
                        <input matInput [type]="hideNewPassword ? 'password' : 'text'" formControlName="newPassword"
                               type="password" #newPassword>
                        <button mat-icon-button matSuffix (click)="hideNewPassword = !hideNewPassword"
                                [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideNewPassword">
                          <mat-icon>{{hideNewPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                        </button>
                        <mat-error *ngIf="hasError('newPassword', 'required', changePassword)">Chưa nhập mật khẩu hiện
                          tại
                        </mat-error>
                      </mat-form-field>
                    </td>
                  </tr>
                  <tr>
<<<<<<< HEAD
=======
                    <th>Mật khẩu mới</th>
                    <td>
                      <mat-form-field appearance="outline" fxFill>
                        <mat-label>Mật khẩu hiện mới</mat-label>
                        <input matInput [type]="hideNewPassword ? 'password' : 'text'" formControlName="newPassword"
                          type="password">
                        <button mat-icon-button matSuffix (click)="hideNewPassword = !hideNewPassword"
                          [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideNewPassword">
                          <mat-icon>{{hideNewPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                        </button>
                        <!--                  <mat-error *ngIf="hasError('newPassword', 'required', changePassword)">Chưa nhập mật khẩu hiện tại</mat-error>-->
                      </mat-form-field>
                    </td>
                  </tr>
                  <tr>
>>>>>>> 927f459a086855f1692623bcddae48da400b5cf8
                    <th>Xác nhận mật khẩu mới</th>
                    <td>
                      <mat-form-field appearance="outline" fxFill>
                        <mat-label>Xác nhận mật khẩu mới</mat-label>
                        <input matInput [type]="hideConfirmPassword ? 'password' : 'text'"
<<<<<<< HEAD
                               formControlName="confirmNewPassword" type="password" pattern="{{ newPassword.value }}">
                        <button mat-icon-button matSuffix (click)="hideConfirmPassword = !hideConfirmPassword"
                                [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideConfirmPassword">
                          <mat-icon>{{hideConfirmPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                        </button>
                        <mat-error *ngIf="hasError('confirmNewPassword', 'required', changePassword)">Chưa nhập mật khẩu
                          hiện tại
                        </mat-error>
                        <mat-error *ngIf="hasError('confirmNewPassword', 'pattern', changePassword)">Xác nhận mật khẩu
                          không chính xác
                        </mat-error>
=======
                          formControlName="confirmNewPassword" type="password">
                        <button mat-icon-button matSuffix (click)="hideConfirmPassword = !hideConfirmPassword"
                          [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideConfirmPassword">
                          <mat-icon>{{hideConfirmPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                        </button>
                        <!--                  <mat-error *ngIf="hasError('confirmNewPassword', 'required', changePassword)">Chưa nhập mật khẩu hiện tại</mat-error>-->
>>>>>>> 927f459a086855f1692623bcddae48da400b5cf8
                      </mat-form-field>
                    </td>
                  </tr>
                </table>
              </form>
              <mat-card-actions>
                <button mat-raised-button class="btn btn-outline-primary" (click)="submitChangePassword()">Xác
<<<<<<< HEAD
                  nhận
                </button>
=======
                  nhận</button>
>>>>>>> 927f459a086855f1692623bcddae48da400b5cf8
                <button mat-raised-button class="btn btn-outline-danger" (click)="changePassword.reset()">Huỷ</button>
              </mat-card-actions>
            </mat-card>
          </div>
          <div class="col-lg-2 col-md-1"></div>
        </div>
      </mat-tab>
      <!-- # End Tag : Đổi mật khẩu -->

    </mat-tab-group>
  </div>
</div>
